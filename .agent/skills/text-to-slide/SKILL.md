---
name: text-to-slide
description: |
  テキストやMarkdownファイルからMarp形式のスライドを作成し、
  画像生成用プロンプトファイルへ変換するスキル。

  【発動条件】
  - 「スライドを作って」「プレゼンを作成」「テキストからスライド」
  - 「Marpで作って」「スライド資料を作りたい」「スライドにして」
  - テキストファイルやMarkdownを渡して「スライドにして」と依頼された場合
  - `text-to-slide` コマンド

  【注意】
  - このスキルはMarpスライド生成 + 画像プロンプト変換を一括で行う
  - 実際の画像生成は `image-gen` スキルを使用すること
version: 1.0.0
---

# Text to Slide スキル

テキストデータやMarkdownファイルを元に、Marp形式のスライド資料を作成し、
各スライドの画像生成用プロンプトファイルへの変換まで一括で行うスキルです。

## ワークフロー

### Step 1: Marpスライドの生成

ユーザーが指定したテキストやファイルを元にMarpスライドを作成し、ファイルに書き出す。

**生成ルール:**

- Frontmatterに `marp: true`、`theme: default` を必ず含める
- 構成: 表紙スライド（タイトル + サブタイトル）+ 内容に応じた適切な枚数
- スライドの区切りは `---` を使用する
- 出力ファイル名: `[元のファイル名]_slide.md`（元ファイルと同じディレクトリ）

**Marpスライドの基本構造:**

```markdown
---
marp: true
theme: default
---

# タイトル

サブタイトル

---

## セクション見出し

- ポイント1
- ポイント2
```

### Step 2: プロンプト生成スクリプトの実行

Marpスライドファイルが完成したら、Bashツールで以下を実行する。
`[SLIDE_FILE_PATH]` には Step 1 で作成したスライドファイルの**絶対パス**を使用すること。

```bash
node [PROJECT_ROOT]/scripts/marp_to_prompts.js "[SLIDE_FILE_PATH]"
```

スクリプトの動作:
- Marpファイルを `---` でスライドごとに分割
- 各スライドに画像生成用テンプレートを付加
- **スライドファイルと同じディレクトリ**の `prompts/{YYYY-MM-DD_HH-MM-SS}/` に出力

### Step 3: 出力確認と報告

スクリプト実行後、以下をユーザーに報告する:

1. 作成されたスライドファイルのパス
2. 生成されたプロンプトファイルの保存先ディレクトリ
3. 生成されたファイル数（スライド枚数）

## 使用例

### テキストファイルからスライドを作成

```
article/summary.md を元にスライド資料を作成してください
```

AIの実行手順:
1. `Read` ツールで `article/summary.md` を読み込む
2. 内容を分析してスライド構成を決定する
3. `Write` ツールで `article/summary_slide.md` を作成する
4. `Bash` ツールで `node scripts/marp_to_prompts.js "article/summary_slide.md"` を実行
5. 生成されたファイルを確認・報告する

### テキストを直接渡してスライドを作成

```
以下のテキストをスライドにしてください:（テキスト内容）
```

AIの実行手順:
1. テキストを分析してスライド構成を決定する
2. ファイル名をユーザーに確認するか内容から命名する
3. `Write` ツールでスライドファイルを作成する
4. `Bash` ツールでスクリプトを実行する
5. 生成されたファイルを確認・報告する

## 前提条件

- Node.js がインストール済みであること
- プロジェクトルートに `scripts/marp_to_prompts.js` が存在すること

## 関連スキル

- **image-gen**: 生成されたプロンプトファイルを使って画像を生成する場合はこちらを使用
